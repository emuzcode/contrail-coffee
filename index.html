<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noarchive">
  <title>Contrail Coffee & Chocolate</title>
  <meta name="description" content="2026年、本格オープン予定。Contrail は「澄んだ余白に、香りが残るひととき。」をコンセプトに、秩父・東町に誕生するコーヒーとチョコレートの小さな喫茶店です。プレオープン期間中は、不定期営業にて、ニュージーランド発のスペシャルティコーヒーとクラフトチョコレートをゆったりとお楽しみいただけます。営業日につきましては営業日カレンダーをご確認のうえ、ぜひ静かな空と余韻を味わいにお越しください。">
  <meta name="keywords" content="Contrail, コントレイル, コーヒー, チョコレート, コーヒーショップ, コーヒーストア, コーヒー専門店, コーヒー豆, コーヒー粉, コーヒー粉ブレンド, コーヒー粉ブレンド, カフェ, 秩父, 東町">
  <meta name="author" content="Contrail">
  <meta name="copyright" content="2025 Contrail">
  <meta name="category" content="コーヒー, チョコレート, カフェ, 喫茶店">
  <meta name="language" content="ja">
  <meta name="revisit-after" content="1 days">
  <meta name="google" content="notranslate">
  <meta name="google-site-verification" content="google-site-verification=google-site-verification">
  <link rel="canonical" href="https://www.contrail.life">

  <meta property="og:title" content="Contrail">
  <meta property="og:description" content="2026年、本格オープン予定。Contrail は「澄んだ余白に、香りが残るひととき。」をコンセプトに、秩父・東町に誕生するコーヒーとチョコレートの小さな喫茶店です。プレオープン期間中は、不定期営業にて、ニュージーランド発のスペシャルティコーヒーとクラフトチョコレートをゆったりとお楽しみいただけます。営業日につきましては営業日カレンダーをご確認のうえ、ぜひ静かな空と余韻を味わいにお越しください。">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.contrail.life">
  <meta property="og:image" content="https://www.contrail.life/assets/images/contrail-logo-transparent.png">
  <meta property="og:site_name" content="Contrail">
  <meta property="og:locale" content="ja_JP">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Contrail">
  <meta name="twitter:description" content="2026年、本格オープン予定。Contrail は「澄んだ余白に、香りが残るひととき。」をコンセプトに、秩父・東町に誕生するコーヒーとチョコレートの小さな喫茶店です。プレオープン期間中は、不定期営業にて、ニュージーランド発のスペシャルティコーヒーとクラフトチョコレートをゆったりとお楽しみいただけます。営業日につきましては営業日カレンダーをご確認のうえ、ぜひ静かな空と余韻を味わいにお越しください。">
  <meta name="twitter:image" content="https://www.contrail.life/assets/images/contrail-logo-transparent.png">
  <meta name="twitter:site" content="@contrail_coffee">

  <link rel="icon" type="image/png" href="assets/images/contrail-logo-transparent.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/contrail-logo-transparent.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/contrail-logo-transparent.png">
  <link rel="apple-touch-icon" href="assets/images/contrail-logo-transparent.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/contrail-logo-transparent.png">
  <link rel="apple-touch-icon" sizes="152x152" href="assets/images/contrail-logo-transparent.png">
  <link rel="apple-touch-icon" sizes="120x120" href="assets/images/contrail-logo-transparent.png">
  <link rel="apple-touch-icon" sizes="76x76" href="assets/images/contrail-logo-transparent.png">
  <meta name="msapplication-TileImage" content="assets/images/contrail-logo-transparent.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="manifest" href="manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Contrail">

  <link rel="preload" href="styles.css" as="style">
  <link rel="preload" href="assets/images/contrail-line.png" as="image">
  <link rel="preload" href="assets/images/contrail-main.png" as="image">
  <link rel="preload" href="assets/images/contrail-dot.png" as="image">
  <link rel="preload" href="assets/images/contrail-logo-transparent.png" as="image">

  <link rel="dns-prefetch" href="//fonts.googleapis.com">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Zen+Old+Mincho:wght@400;700&family=Noto+Sans+JP:wght@300;400;500&display=swap">

  <link rel="stylesheet" href="styles.css">


  <style>
    #loading {
      position: fixed;
      z-index: 9999;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.8s;
    }
    #loading.hide {
      opacity: 0;
      pointer-events: none;
    }
    .logo-main {
      display: block;
      width: 100%;
      opacity: 0;
      transform: scale(0.92);
      transition: opacity 0.7s cubic-bezier(.4,0,.2,1), transform 0.7s cubic-bezier(.4,0,.2,1);
    }
    .logo-line {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      clip-path: inset(0 100% 0 0);
      filter: drop-shadow(0 2px 6px rgba(0,0,0,0.12));
      transition: opacity 0.2s, clip-path 1.2s cubic-bezier(.4,0,.2,1);
    }
    .logo-dot {
      position: absolute;
      top: -40px;
      right: 0;
      width: 100%;
      opacity: 0;
      transition: opacity 0.3s, top 0.7s cubic-bezier(.4,1.6,.2,1);
      filter: drop-shadow(0 2px 8px rgba(0,0,0,0.18));
    }

    .japanese-text {
      font-family: 'Zen Old Mincho', serif;
    }

    .video-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: drop-shadow(0px 0px rgba(0,0,0,0));
      outline: none;
      border: none;
    }

    video.video-bg {
      display: none;
    }

    @media (max-width: 640px) {
      html {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
      }

      * {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
      }

      button, .calendar-day {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      html {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        overflow-x: hidden;
      }

      body {
        -webkit-overflow-scrolling: touch;
        transform: translate3d(0, 0, 0);
        -webkit-transform: translate3d(0, 0, 0);
      }
    }

    main {
      opacity: 0;
      transition: opacity 1s ease;
    }

    .concept-bg {
      background-image: url('assets/images/concept-image.png');
      will-change: transform;
      transform: translate3d(0, 0, 0);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      contain: layout style paint;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 0;
      pointer-events: none;
    }

      @media (max-width: 768px) {
        .concept-bg {
          background-attachment: scroll;
          background-size: cover;
          background-position: center center;
          -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0);
          -webkit-overflow-scrolling: touch;
          overflow: hidden;
        }

        .concept {
          will-change: transform;
          transform: translateZ(0);
          -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0);
          backface-visibility: hidden;
          -webkit-backface-visibility: hidden;
        }
      }

            @media (max-width: 640px) {
        .concept-bg {
          background-size: cover;
          background-repeat: no-repeat;
          background-position: center center;
          -webkit-transform: translate3d(0, 0, 0);
          transform: translate3d(0, 0, 0);
          will-change: transform;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          -webkit-overflow-scrolling: touch;
          overflow: hidden;
          position: absolute !important;
          top: 0 !important;
          left: 0 !important;
          right: 0 !important;
          bottom: 0 !important;
          z-index: 0 !important;
          pointer-events: none !important;
        }

        .concept {
          will-change: transform;
          transform: translateZ(0);
          -webkit-overflow-scrolling: touch;
          overflow: hidden;
        }
      }
  </style>
</head>
<body class="bg-white text-gray-900 font-zen">
  <div id="loading">
    <div class="w-[640px] max-w-[85vw] sm:max-w-[90vw] mx-auto flex items-center justify-center flex-col relative">
      <img class="logo-line" src="assets/images/contrail-line.png" alt="contrailの上の線" />
      <img class="logo-main" src="assets/images/contrail-main.png" alt="contrail本体" />
      <img class="logo-dot" src="assets/images/contrail-dot.png" alt="iの点" />
    </div>
  </div>

  <main>
    <section class="min-h-screen flex flex-col justify-center items-center bg-white px-4 sm:px-6">
      <div class="w-[640px] max-w-[85vw] sm:max-w-[90vw] mx-auto">
        <img src="assets/images/contrail-logo-transparent.png" alt="Contrail Coffee ロゴ" class="w-full" id="main-logo" />
      </div>
    </section>

    <section class="concept w-full bg-black relative overflow-hidden">
      <div class="absolute inset-0 bg-cover bg-center bg-no-repeat concept-bg"></div>
      <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/60 to-gray-900/70"></div>
      <div class="relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-12">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-12 sm:mb-16 md:mb-24" id="concept-text">
            <h1 class="text-3xl sm:text-4xl md:text-6xl lg:text-7xl text-white font-semibold leading-tight tracking-tight px-4">
              Enjoy a cup of coffee<br>
              Have a good day
            </h1>
            <p class="text-base sm:text-lg md:text-2xl lg:text-3xl text-white/90 font-semibold leading-relaxed tracking-tight px-4">
              Speciality coffee from New Zealand<br>
              Delivered to Ohanabatake
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="py-12 sm:py-16 md:py-20 lg:py-32 bg-gray-50">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-12">
        <div class="space-y-12 sm:space-y-16 lg:space-y-20" id="menu-text">
          <!-- メニューヘッダー（ロゴ画像） -->
          <div class="text-center space-y-3">
            <div class="w-48 sm:w-56 lg:w-64 mx-auto">
              <img src="assets/images/contrail-logo-transparent.png" alt="Contrail Coffee & Chocolate ロゴ" class="w-full h-auto" />
            </div>
            <div class="text-left text-base sm:text-lg text-gray-700 font-medium">Menu</div>
          </div>

          <!-- メニュー本体（テキストのみ、右にブランドバッジ） -->
          <div class="space-y-8 sm:space-y-10 lg:space-y-12">
            <!-- コーヒー / Allpress Espresso -->
            <div class="space-y-2">
              <h3 class="text-lg sm:text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2">コーヒー / Allpress Espresso</h3>
              <ul class="space-y-1 text-sm sm:text-base font-light text-gray-900">
                <li><span>ドリップコーヒー</span><span class="ml-4 text-xs sm:text-sm text-gray-600">ホット／アイス</span></li>
                <li><span>カフェラテ&emsp;&emsp;&emsp;</span><span class="ml-4 text-xs sm:text-sm text-gray-600">ホット／アイス</span></li>
                <li><span>フラットホワイト</span><span class="ml-4 text-xs sm:text-sm text-gray-600">ホット</span></li>
              </ul>
            </div>

            <!-- チョコレートドリンク -->
            <div class="space-y-2">
              <h3 class="text-lg sm:text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2">チョコレートドリンク</h3>
              <ul class="space-y-1 text-sm sm:text-base font-light text-gray-900">
                <!-- <li><span>エクアドル70%</span><span class="ml-4 text-xs sm:text-sm text-gray-600">ホット／アイス</span></li> -->
                <li><span>ホットチョコレート／エクアドル70%<br>（オーツドリンク）</span></li>
              </ul>
            </div>

            <!-- オーガニックソーダ -->
            <div class="space-y-2">
              <h3 class="text-lg sm:text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2">オーガニックソーダ</h3>
              <ul class="space-y-1 text-sm sm:text-base font-light text-gray-900">
                <li>カーマコーラ</li>
                <li>ジンジャエーラ</li>
                <li>レモネード</li>
              </ul>
            </div>

            <!-- クラフトチョコレート -->
            <div class="space-y-2">
              <h3 class="text-lg sm:text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2">クラフトチョコレート</h3>
              <ul class="space-y-1 text-sm sm:text-base font-light text-gray-900">
                <li>お花畑で待ち合わせ エクアドル70%<br>(ひとくちサイズ4個入)</li>
              </ul>
            </div>

            <!-- ドーナツ -->
            <div class="space-y-2">
              <h3 class="text-lg sm:text-xl font-semibold text-gray-900 border-b border-gray-200 pb-2">オリジナルドーナツ(不定期)</h3>
              <ul class="space-y-1 text-sm sm:text-base font-light text-gray-900">
                <li>国産100%なたね油使用チョコレートドーナツ<br>(オーガニック食パン三山)<br>(米澤製油)<br>(CHICHIBU CHOCOLATE FACTORY)</li>
              </ul>
            </div>
          </div>

          <div class="text-center space-y-3">
            <div class="w-48 sm:w-56 lg:w-64 mx-auto">
              <img src="assets/images/kuma.png" alt="Contrail Coffee & Chocolate ロゴ" class="w-full h-auto" />
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-12 sm:py-16 md:py-20 lg:py-32 bg-white">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-12">
        <div class="space-y-12 sm:space-y-16 lg:space-y-20" id="news-text">
          <h2 class="text-xl sm:text-2xl lg:text-3xl font-light text-gray-900 text-center">
            News
          </h2>

          <div class="space-y-8 sm:space-y-10 lg:space-y-12">
            <article class="border-b border-gray-100 pb-6 sm:pb-8">
              <div class="space-y-4">
                <div class="flex items-start space-x-4">
                  <time class="text-sm sm:text-base text-gray-500 font-light min-w-[100px] sm:min-w-[120px]">2025.7.27</time>
                  <div class="flex-1">
                    <h3 class="text-base sm:text-lg font-light text-gray-900 mb-3">プレオープンのお知らせ</h3>
                    <div class="text-sm sm:text-base text-gray-700 font-light space-y-3">
                      <p>現在、10月のプレオープンのために準備中です。</p>
                      <p>営業日は不定期となっておりますので、下記のカレンダーにてご確認のうえお越しください。</p>
                      <p>皆さまのお越しを心よりお待ちしております。</p>
                    </div>
                  </div>
                </div>
              </div>
            </article>

            <article class="border-b border-gray-100 pb-6 sm:pb-8">
              <div class="space-y-4">
                <div class="flex items-start space-x-4">
                  <time class="text-sm sm:text-base text-gray-500 font-light min-w-[100px] sm:min-w-[120px]">2025.5.5</time>
                  <div class="flex-1">
                    <h3 class="text-base sm:text-lg font-light text-gray-900 mb-3">ウェブサイト開設</h3>
                    <div class="text-sm sm:text-base text-gray-700 font-light space-y-3">
                      <p>Contrail Coffee & Chocolate の公式ウェブサイトを開設いたしました。</p>
                      <p>最新情報はこちらのニュースページにてお知らせいたします。</p>
                    </div>
                  </div>
                </div>
              </div>
            </article>

            <article>
              <div class="space-y-4">
                <div class="flex items-start space-x-4">
                  <time class="text-sm sm:text-base text-gray-500 font-light min-w-[100px] sm:min-w-[120px]">2025.4.1</time>
                  <div class="flex-1">
                    <h3 class="text-base sm:text-lg font-light text-gray-900 mb-3">店舗準備中</h3>
                    <div class="text-sm sm:text-base text-gray-700 font-light space-y-3">
                      <p>埼玉県秩父市東町にて、コーヒーショップの開店準備を進めております。</p>
                      <p>ニュージーランド発のスペシャルティコーヒーとクラフトチョコレートをお楽しみいただけるよう、準備に取り組んでおります。</p>
                    </div>
                  </div>
                </div>
              </div>
            </article>
          </div>
        </div>
      </div>
    </section>

    <section class="py-12 sm:py-16 md:py-20 lg:py-32 bg-gray-50">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-12 text-center">
        <div class="space-y-12 sm:space-y-16 lg:space-y-20" id="info-text">
          <div class="space-y-10 sm:space-y-12 lg:space-y-16 text-sm sm:text-base md:text-lg lg:text-xl font-light text-gray-700">
            <div class="space-y-6 sm:space-y-8">
              <p class="text-lg sm:text-xl lg:text-2xl font-light text-gray-900">Business Days</p>
              <p class="px-2">
                営業日は下記のカレンダーにて<br class="sm:hidden">
                ご確認ください。
              </p>
            </div>

            <div class="bg-white rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 lg:p-12 shadow-sm border border-gray-100">
              <div class="space-y-6 sm:space-y-8">
                <div class="calendar-container">
                  <div class="flex items-center justify-center mb-6 sm:mb-8">
                    <div class="flex items-center space-x-3 sm:space-x-6">
                      <button id="prevMonth" class="p-3 sm:p-2 rounded-full hover:bg-gray-200 transition-colors duration-300 touch-manipulation">
                        <svg class="w-5 h-5 sm:w-4 sm:h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                      </button>
                      <h3 id="monthYear" class="text-base sm:text-lg lg:text-xl font-light text-gray-900 min-w-[100px] sm:min-w-[120px] text-center"></h3>
                      <button id="nextMonth" class="p-3 sm:p-2 rounded-full hover:bg-gray-200 transition-colors duration-300 touch-manipulation">
                        <svg class="w-5 h-5 sm:w-4 sm:h-4 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                      </button>
                    </div>
                  </div>

                  <div class="grid grid-cols-7 gap-1 sm:gap-1 mb-2">
                    <div class="text-center text-xs sm:text-xs lg:text-sm font-light text-gray-500 py-2">日</div>
                    <div class="text-center text-xs sm:text-xs lg:text-sm font-light text-gray-500 py-2">月</div>
                    <div class="text-center text-xs sm:text-xs lg:text-sm font-light text-gray-500 py-2">火</div>
                    <div class="text-center text-xs sm:text-xs lg:text-sm font-light text-gray-500 py-2">水</div>
                    <div class="text-center text-xs sm:text-xs lg:text-sm font-light text-gray-500 py-2">木</div>
                    <div class="text-center text-xs sm:text-xs lg:text-sm font-light text-gray-500 py-2">金</div>
                    <div class="text-center text-xs sm:text-xs lg:text-sm font-light text-gray-500 py-2">土</div>
                  </div>

                  <div id="calendarDays" class="grid grid-cols-7 gap-1 sm:gap-1">
                  </div>

                  <div class="flex justify-center mt-6 space-x-8 text-xs sm:text-sm font-light">
                    <div class="flex items-center">
                      <div class="w-6 h-6 bg-gray-800 rounded-sm mr-2 flex items-center justify-center text-white text-xs flex-shrink-0">●</div>
                      <span class="text-gray-700">営業日</span>
                    </div>
                    <div class="flex items-center">
                      <div class="w-6 h-6 bg-gray-100 border border-gray-200 rounded-sm mr-2 flex items-center justify-center text-gray-600 text-xs">-</div>
                      <span class="text-gray-700">休業日</span>
                    </div>
                  </div>
                </div>

                <div class="space-y-3 sm:space-y-4 text-sm sm:text-base lg:text-lg">
                  <p class="text-gray-600">営業時間</p>
                  <p>06:00〜10:00</p>
                  <p class="text-xs sm:text-sm text-gray-500">※詳細はNewsをご確認ください</p>
                </div>

                <div class="mt-4 flex items-center space-x-3">
                  <canvas id="calendarCanvas" width="1080" height="1080" class="hidden"></canvas>
                  <div id="downloadKuma" class="relative cursor-pointer select-none touch-manipulation">
                    <img src="assets/images/kuma.png" alt="kuma" class="w-16 h-16 sm:w-20 sm:h-20 opacity-80 hover:opacity-100 transition-opacity duration-300">
                    <div id="downloadProgress" class="absolute inset-0 bg-black rounded-full pointer-events-none" style="opacity: 0; transition: opacity 0.1s;"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-12 sm:py-16 md:py-20 lg:py-32 bg-gray-50">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-12 text-center">
        <div class="space-y-12 sm:space-y-16 lg:space-y-20" id="access-text">
          <div class="space-y-10 sm:space-y-12 lg:space-y-16 text-sm sm:text-base md:text-lg lg:text-xl font-light text-gray-700">
            <p class="px-2">
              御花畑で皆さまをお迎えできる日を、<br class="sm:hidden">
              心よりお待ちしております。
            </p>

            <div class="bg-white rounded-2xl sm:rounded-3xl overflow-hidden shadow-lg">
              <div class="aspect-w-16 aspect-h-9 relative">
                <iframe class="w-full h-[200px] sm:h-[250px] md:h-[300px] lg:h-[400px]"
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3232.9!2d139.0864!3d35.9906!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2s21-15+Higashimachi%2C+Chichibu%2C+Saitama+368-0042%2C+Japan!5e0!3m2!1sja!2sjp!4v1671234567890!5m2!1sja!2sjp"
                  allowfullscreen
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                  title="Contrail Coffee - 21-15 Higashimachi, Chichibu">
                </iframe>
              </div>
            </div>

            <div class="space-y-6 sm:space-y-8">
              <div class="space-y-3 sm:space-y-4 text-sm sm:text-base lg:text-lg">
                <div class="w-48 sm:w-56 lg:w-64 mx-auto mb-4">
                  <img src="assets/images/contrail-logo-transparent.png" alt="Contrail Coffee & Chocolate" class="w-full" />
                </div>
                <p>〒368-0042</p>
                <p>埼玉県秩父市東町21-15</p>
              </div>

              <div class="space-y-3 sm:space-y-4 text-sm sm:text-base lg:text-lg">
                <p>駐車場・駐輪場なし</p>
              </div>
            </div>

            <div class="text-center">
              <a href="https://www.google.com/maps/place/21-15+Higashimachi,+Chichibu,+Saitama+368-0042,+Japan" target="_blank" rel="noopener noreferrer"
                 class="inline-flex items-center space-x-2 px-6 py-4 sm:px-6 sm:py-3 bg-white border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-all duration-300 font-light text-sm sm:text-sm lg:text-base shadow-sm hover:shadow touch-manipulation">
                <svg class="w-4 h-4 sm:w-4 sm:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"></path>
                </svg>
                <span>Google Maps で開く</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="py-12 sm:py-16 md:py-20 lg:py-32 bg-white border-t border-gray-100">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-12 text-center">
      <div class="space-y-6">
        <!-- Instagram Link -->
        <div class="flex justify-center">
          <a href="https://www.instagram.com/chichibu.chocolate.factory?igsh=MTFvczVmZmhwOGR1"
             target="_blank"
             rel="noopener noreferrer"
             class="inline-flex items-center space-x-2 px-4 py-2 bg-white border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-all duration-300 font-light text-sm shadow-sm hover:shadow touch-manipulation">
            <img src="assets/icons/Instagram_Glyph_Gradient.png" alt="Instagram" class="w-5 h-5" />
            <span>フォローはこちらから</span>
          </a>
        </div>

        <p class="text-xs text-gray-500 font-light">
          copyright© 合同会社コントレイル All Right Reserved
        </p>
      </div>
    </div>
  </footer>

  <script>
    (function() {
      const loading = document.querySelector('#loading');
      const mainContent = document.querySelector("main");

      const hasVisited = sessionStorage.getItem('contrail-visited');

      if (hasVisited === 'true') {
        if (loading) loading.style.display = 'none';
        if (mainContent) mainContent.style.opacity = "1";
        return;
      }

      sessionStorage.setItem('contrail-visited', 'true');
    })();

    window.addEventListener('DOMContentLoaded', function() {
      const main = document.querySelector('.logo-main');
      const line = document.querySelector('.logo-line');
      const dot = document.querySelector('.logo-dot');
      const loading = document.querySelector('#loading');
      const mainContent = document.querySelector("main");

      const hasVisited = sessionStorage.getItem('contrail-visited');

      if (hasVisited === 'true' && loading && loading.style.display === 'none') {
        return;
      }

      setTimeout(() => {
        main.style.opacity = '1';
        main.style.transform = 'scale(1)';
      }, 200);

      setTimeout(() => {
        line.style.opacity = '1';
        line.style.clipPath = 'inset(0 0 0 0)';
      }, 800);

      setTimeout(() => {
        dot.style.opacity = '1';
        dot.style.top = '0px';
      }, 1800);

      setTimeout(() => {
        loading.style.opacity = '0';
        loading.style.pointerEvents = 'none';
      }, 2500);

      setTimeout(() => {
        mainContent.style.opacity = "1";
      }, 3000);
    });

    window.contrailCalendarVersion = "2.0";

    let businessDaysData = [];

    async function loadBusinessSettings() {
      try {
        const SPREADSHEET_ID = "1BRHncUHIE9c4YZrq6Sa6oyaFULAd5uPE5GDNMIIc7Kg";
        const SHEET_NAME = "business_days";
        const encodedSheetName = encodeURIComponent(SHEET_NAME);
        let url = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/gviz/tq?tqx=out:json&sheet=${encodedSheetName}`;

        let response = await fetch(url);

        if (!response.ok) {
          url = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/gviz/tq?tqx=out:json`;
          response = await fetch(url);
        }

        if (!response.ok) {
          throw new Error(`営業日設定の読み込みに失敗しました: ${response.status} ${response.statusText}`);
        }

        const text = await response.text();
        const jsonStart = text.indexOf("{");
        const jsonEnd = text.lastIndexOf("}") + 1;

        if (jsonStart === -1 || jsonEnd === 0) {
          throw new Error('JSONデータが見つかりませんでした');
        }

        const json = JSON.parse(text.substring(jsonStart, jsonEnd));

        function normalizeDate(dateValue) {
          if (!dateValue && dateValue !== 0) return "";

          if (typeof dateValue === 'string' && dateValue.startsWith('Date(')) {
            const match = dateValue.match(/Date\((\d+),(\d+),(\d+)\)/);
            if (match) {
              const year = parseInt(match[1], 10);
              const month = parseInt(match[2], 10);
              const day = parseInt(match[3], 10);
              const date = new Date(year, month, day);
              const formattedYear = date.getFullYear();
              const formattedMonth = String(date.getMonth() + 1).padStart(2, '0');
              const formattedDay = String(date.getDate()).padStart(2, '0');
              return `${formattedYear}-${formattedMonth}-${formattedDay}`;
            }
          }

          if (typeof dateValue === 'number') {
            const excelEpoch = new Date(1899, 11, 30);
            const date = new Date(excelEpoch.getTime() + (dateValue - 1) * 86400 * 1000);
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
          }

          if (typeof dateValue === 'string') {
            const normalized = dateValue.replace(/\//g, '-');
            const parts = normalized.split('-');
            if (parts.length === 3) {
              const year = parts[0];
              const month = String(parseInt(parts[1], 10)).padStart(2, '0');
              const day = String(parseInt(parts[2], 10)).padStart(2, '0');
              return `${year}-${month}-${day}`;
            }
            return normalized;
          }

          if (dateValue instanceof Date) {
            const year = dateValue.getFullYear();
            const month = String(dateValue.getMonth() + 1).padStart(2, '0');
            const day = String(dateValue.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
          }

          return "";
        }

        businessDaysData = json.table.rows
          .map(row => {
            const dateValue = row.c[0]?.v;
            const statusValue = row.c[1]?.v || "";
            const noteValue = row.c[2]?.v || "";
            const dateString = normalizeDate(dateValue);

            return {
              date: dateString,
              status: statusValue.toLowerCase().trim(),
              note: noteValue
            };
          })
          .filter(item => item.date && item.status);
      } catch (error) {
        console.error('営業日設定の読み込みエラー:', error);
        businessDaysData = [];
      }
    }

    function initializeCalendar() {
      const monthNames = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];
      let currentDate = new Date();

      function isOpenDay(date) {
        const dateString = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
        const dayData = businessDaysData.find(item => item.date === dateString);
        return dayData ? dayData.status === 'open' : false;
      }

      function renderCalendar() {
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const startDate = new Date(firstDay);
        startDate.setDate(startDate.getDate() - firstDay.getDay());

        const monthYearElement = document.getElementById('monthYear');
        if (monthYearElement) {
          monthYearElement.textContent = `${year}年${monthNames[month]}`;
        }

        const calendarDays = document.getElementById('calendarDays');
        if (!calendarDays) {
          return;
        }
        calendarDays.innerHTML = '';
        for (let i = 0; i < 42; i++) {
          const date = new Date(startDate);
          date.setDate(startDate.getDate() + i);

          const dayElement = document.createElement('div');
          dayElement.className = 'calendar-day text-center py-2 sm:py-3 text-base sm:text-lg font-medium cursor-pointer rounded-lg transition-all duration-300 min-h-[52px] sm:min-h-[44px] flex flex-col items-center justify-center touch-manipulation';
          dayElement.textContent = date.getDate();

          const isCurrentMonth = date.getMonth() === month;
          const isBusinessOpen = isCurrentMonth && isOpenDay(date);
          const isToday = date.toDateString() === new Date().toDateString();

          if (!isCurrentMonth) {
            dayElement.className += ' text-gray-300';
            dayElement.textContent = date.getDate();
          } else if (isBusinessOpen) {
            dayElement.className += ' bg-gray-800 text-white font-medium hover:bg-gray-700 shadow-sm hover:shadow hover:scale-105';
            dayElement.title = '営業日';
            dayElement.innerHTML = `${date.getDate()}<div class="text-xs leading-none mt-0.5 opacity-80">●</div>`;
          } else {
            dayElement.className += ' bg-gray-100 text-gray-600 border border-gray-200 hover:bg-gray-200 hover:scale-105';
            dayElement.title = '休業日';
            dayElement.innerHTML = `${date.getDate()}<div class="text-xs leading-none mt-0.5 opacity-60">-</div>`;
          }

          calendarDays.appendChild(dayElement);
        }

        renderCalendarCanvas(year, month);
      }

      function renderCalendarCanvas(year, month) {
        const canvas = document.getElementById('calendarCanvas');
        if (!canvas) return;

        const ctx = canvas.getContext('2d');
        const width = 1080;
        const height = 1080;

        // 背景
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(0, 0, width, height);

        // パディング設定
        const padding = 120;
        const contentWidth = width - padding * 2;

        // タイトルエリア
        const titleY = padding + 50;
        ctx.fillStyle = '#111827';
        ctx.font = '300 52px sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        ctx.fillText(`${year}年${monthNames[month]}`, width / 2, titleY);

        // カレンダーグリッド設定（タイトルとの余白を広げる）
        const gridTop = titleY + 160;
        const gridBottom = height - padding - 140;
        const gridHeight = gridBottom - gridTop;
        const cellWidth = contentWidth / 7;
        const cellHeight = gridHeight / 6;
        const gap = 8;

        // カレンダーグリッド
        const firstDay = new Date(year, month, 1);
        const startDate = new Date(firstDay);
        startDate.setDate(startDate.getDate() - firstDay.getDay());

        const gridStartX = padding;
        const gridStartY = gridTop;
        const cellSize = cellWidth - gap;

        // 曜日ヘッダー（日付セルの中央に合わせる）
        const weekDays = ['日', '月', '火', '水', '木', '金', '土'];
        const headerY = gridTop - 10;

        ctx.font = '300 30px sans-serif';
        ctx.fillStyle = '#6b7280';
        weekDays.forEach((day, index) => {
          // 日付セルの中央位置に合わせる
          const x = gridStartX + index * (cellWidth + gap) + cellSize / 2;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'bottom';
          ctx.fillText(day, x, headerY);
        });

        for (let i = 0; i < 42; i++) {
          const date = new Date(startDate);
          date.setDate(startDate.getDate() + i);
          const isCurrentMonth = date.getMonth() === month;
          const isOpen = isCurrentMonth && isOpenDay(date);

          const col = i % 7;
          const row = Math.floor(i / 7);
          const x = gridStartX + col * (cellWidth + gap);
          const y = gridStartY + row * (cellHeight + gap);
          const cellHeightSize = cellHeight - gap;
          const cornerRadius = 8;

          if (isCurrentMonth) {
            if (isOpen) {
              // 営業日: bg-gray-800 (黒背景)
              ctx.fillStyle = '#1f2937';
              roundRect(ctx, x, y, cellSize, cellHeightSize, cornerRadius);
              ctx.fill();

              // 日付テキスト（白）- 少し上に配置
              ctx.fillStyle = '#ffffff';
              ctx.font = '500 36px sans-serif';
              ctx.textAlign = 'center';
              ctx.textBaseline = 'middle';
              ctx.fillText(date.getDate().toString(), x + cellSize / 2, y + cellHeightSize / 2 - 14);

              // 営業日マーク（●）- 日付との間隔を広げる
              ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
              ctx.font = '20px sans-serif';
              ctx.fillText('●', x + cellSize / 2, y + cellHeightSize / 2 + 20);
            } else {
              // 休業日: bg-gray-100 border border-gray-200
              ctx.fillStyle = '#f3f4f6';
              ctx.strokeStyle = '#e5e7eb';
              ctx.lineWidth = 1;
              roundRect(ctx, x, y, cellSize, cellHeightSize, cornerRadius);
              ctx.fill();
              ctx.stroke();

              // 日付テキスト（グレー）
              ctx.fillStyle = '#4b5563';
              ctx.font = '500 36px sans-serif';
              ctx.textAlign = 'center';
              ctx.textBaseline = 'middle';
              ctx.fillText(date.getDate().toString(), x + cellSize / 2, y + cellHeightSize / 2 - 14);

              // 休業日マーク（-）
              ctx.fillStyle = 'rgba(107, 114, 128, 0.6)';
              ctx.font = '20px sans-serif';
              ctx.fillText('-', x + cellSize / 2, y + cellHeightSize / 2 + 20);
            }
          } else {
            // 前月・次月の日付（text-gray-300）
            ctx.fillStyle = '#d1d5db';
            ctx.font = '400 32px sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(date.getDate().toString(), x + cellSize / 2, y + cellHeightSize / 2);
          }
        }

        // 凡例
        const legendY = gridBottom + 80;
        const legendCenterX = width / 2;
        const legendSpacing = 200;

        // 営業日凡例（四角を大きく、テキストを大きく、丸を小さく）
        const legend1X = legendCenterX - legendSpacing;
        const legendBoxSize = 28;
        const legendBoxX = legend1X - 50;
        const legendBoxY = legendY - legendBoxSize / 2;

        ctx.fillStyle = '#1f2937';
        roundRect(ctx, legendBoxX, legendBoxY, legendBoxSize, legendBoxSize, 3);
        ctx.fill();
        ctx.fillStyle = '#ffffff';
        ctx.font = '10px sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('●', legendBoxX + legendBoxSize / 2, legendBoxY + legendBoxSize / 2);
        ctx.fillStyle = '#374151';
        ctx.font = '300 36px sans-serif';
        ctx.textAlign = 'left';
        ctx.textBaseline = 'middle';
        ctx.fillText('営業日', legend1X, legendY);

        // 休業日凡例（四角を大きく、テキストを大きく、丸を小さく）
        const legend2X = legendCenterX + legendSpacing;
        const legendBox2X = legend2X - 50;
        const legendBox2Y = legendY - legendBoxSize / 2;

        ctx.fillStyle = '#f3f4f6';
        ctx.strokeStyle = '#e5e7eb';
        ctx.lineWidth = 1;
        roundRect(ctx, legendBox2X, legendBox2Y, legendBoxSize, legendBoxSize, 3);
        ctx.fill();
        ctx.stroke();
        ctx.fillStyle = '#6b7280';
        ctx.font = '10px sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('-', legendBox2X + legendBoxSize / 2, legendBox2Y + legendBoxSize / 2);
        ctx.fillStyle = '#374151';
        ctx.font = '300 36px sans-serif';
        ctx.textAlign = 'left';
        ctx.textBaseline = 'middle';
        ctx.fillText('休業日', legend2X, legendY);

        // 営業時間
        const businessHoursY = legendY + 60;
        ctx.fillStyle = '#6b7280';
        ctx.font = '300 28px sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        ctx.fillText('営業時間', width / 2, businessHoursY);

        ctx.fillStyle = '#111827';
        ctx.font = '300 32px sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        ctx.fillText('06:00〜10:00', width / 2, businessHoursY + 40);
      }

      // 角丸四角形を描画するヘルパー関数
      function roundRect(ctx, x, y, width, height, radius) {
        ctx.beginPath();
        ctx.moveTo(x + radius, y);
        ctx.lineTo(x + width - radius, y);
        ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
        ctx.lineTo(x + width, y + height - radius);
        ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
        ctx.lineTo(x + radius, y + height);
        ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
        ctx.lineTo(x, y + radius);
        ctx.quadraticCurveTo(x, y, x + radius, y);
        ctx.closePath();
      }

      document.getElementById('prevMonth').addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar();
      });

      document.getElementById('nextMonth').addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar();
      });

      renderCalendar();
    }

    function downloadCalendar() {
      const canvas = document.getElementById('calendarCanvas');
      if (!canvas) return;

      // 現在表示されている月を取得
      const monthYearElement = document.getElementById('monthYear');
      let year = new Date().getFullYear();
      let month = new Date().getMonth() + 1;

      if (monthYearElement) {
        const text = monthYearElement.textContent;
        const match = text.match(/(\d+)年(\d+)月/);
        if (match) {
          year = parseInt(match[1], 10);
          month = parseInt(match[2], 10);
        }
      }

      const filename = `business_days_${year}_${String(month).padStart(2, '0')}.png`;

      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    function initializeKumaDownload() {
      const kumaButton = document.getElementById('downloadKuma');
      const kumaImage = kumaButton ? kumaButton.querySelector('img') : null;
      if (!kumaButton || !kumaImage) return;

      let hasDownloaded = false;
      let animationFrameId = null;
      let pressStartTime = 0;
      const PRESS_DURATION = 3000; // 3秒

      // 初期状態
      kumaImage.style.transformOrigin = '50% 50%';
      kumaImage.style.transform = 'rotate(0deg)';

      function startDownload() {
        if (hasDownloaded) return;
        hasDownloaded = true;
        downloadCalendar();

        // ダウンロード後に少し待ってから元の角度に戻す
        setTimeout(() => {
          hasDownloaded = false;
          kumaImage.style.transform = 'rotate(0deg)';
        }, 500);
      }

      function animate(now) {
        if (!pressStartTime) {
          pressStartTime = now;
        }
        const elapsed = now - pressStartTime;
        const progress = Math.min(elapsed / PRESS_DURATION, 1);
        const angle = 360 * progress;

        kumaImage.style.transform = `rotate(${angle}deg)`;

        if (progress >= 1) {
          animationFrameId = null;
          startDownload();
          return;
        }

        animationFrameId = requestAnimationFrame(animate);
      }

      function startPress(e) {
        // イベントがキャンセル可能な場合のみpreventDefaultを呼ぶ
        if (e.cancelable) {
          e.preventDefault();
        }
        if (hasDownloaded) return;

        // すでにアニメーション中ならリセット
        if (animationFrameId !== null) {
          cancelAnimationFrame(animationFrameId);
          animationFrameId = null;
        }

        pressStartTime = 0;
        animationFrameId = requestAnimationFrame(animate);
      }

      function cancelPress() {
        if (animationFrameId !== null) {
          cancelAnimationFrame(animationFrameId);
          animationFrameId = null;
        }
        if (!hasDownloaded) {
          kumaImage.style.transform = 'rotate(0deg)';
        }
      }

      kumaButton.addEventListener('mousedown', startPress);
      kumaButton.addEventListener('touchstart', startPress, { passive: false });
      document.addEventListener('mouseup', cancelPress);
      document.addEventListener('touchend', cancelPress);
      document.addEventListener('touchcancel', cancelPress);
    }

    function stabilizeBackground() {
      const conceptBg = document.querySelector('.concept-bg');
      if (conceptBg) {
        conceptBg.style.transform = 'translate3d(0, 0, 0)';
        conceptBg.style.willChange = 'transform';
        conceptBg.style.backfaceVisibility = 'hidden';
        conceptBg.style.webkitBackfaceVisibility = 'hidden';
        conceptBg.style.position = 'absolute';
        conceptBg.style.top = '0';
        conceptBg.style.left = '0';
        conceptBg.style.right = '0';
        conceptBg.style.bottom = '0';
        conceptBg.style.zIndex = '0';
        conceptBg.style.pointerEvents = 'none';

        conceptBg.style.contain = 'layout style paint';
      }

      let scrollTimeout;
      window.addEventListener('scroll', () => {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          if (conceptBg) {
            conceptBg.style.transform = 'translate3d(0, 0, 0)';
          }
        }, 50);
      }, { passive: true });

      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          if (conceptBg) {
            conceptBg.style.transform = 'translate3d(0, 0, 0)';
          }
        }, 100);
      });
    }

    async function startCalendar() {
      await loadBusinessSettings();
      setTimeout(() => {
        initializeCalendar();
        initializeKumaDownload();
      }, 200);
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', startCalendar);
      document.addEventListener('DOMContentLoaded', stabilizeBackground);
    } else {
      startCalendar();
      stabilizeBackground();
    }
  </script>
</body>
</html>
